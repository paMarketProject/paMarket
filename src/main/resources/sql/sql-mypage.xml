<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.pamarket00.mapper.MyPageMapper">

    <select id="MyPageList" resultType="com.example.pamarket00.dto.BoardDto">
    <![CDATA[
        SELECT board.boardImagePath, board.boardTitle, Kategory.KategoryName, board.boardDate, board.boardHitCnt
        FROM board
        JOIN Kategory Kategory ON boardKategory = Kategory.KategoryNum
        WHERE boardUserId = 'aaa'
    ]]>
    </select>

    <select id="MyPageSellList" resultType="com.example.pamarket00.dto.BoardDto">
        <![CDATA[
        SELECT boardNum, boardImagePath, boardKategory, boardTitle, boardDate, boardProPrice,
               boardUserCheck, boardProState
        FROM board
        WHERE boardUserId = 'aaa'
        ]]>
    </select>

    <select id="MyPageBuyList" resultType="com.example.pamarket00.dto.BoardDto">
        <![CDATA[
             SELECT boardNum, boardImagePath, boardKategory, boardTitle, boardDate, boardProPrice,
               boardUserCheck, boardProState
             FROM board
             WHERE boardUserId = 'aaa' AND boardType='P'
        ]]>
    </select>

    <select id="userInfo" resultType="com.example.pamarket00.dto.UserDto">
        <![CDATA[
            SELECT userId, userName, userPw, userTel, userEmail, userAdd2
            FROM user
            WHERE userId = 'test1'
        ]]>
    </select>

    <update id="UpdateUserInfo" parameterType="com.example.pamarket00.dto.UserDto">
        <![CDATA[
            UPDATE user
            SET userPw = #{userPw}, userTel = #{userTel}, userEmail = #{userEmail}, userAdd2 = #{userAdd2}
            WHERE userId = 'test1'
        ]]>
    </update>

</mapper>