<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="widh=device-width" , initial-scale="1">
    <link rel="stylesheet" href="/css/bootstrap.css ">
    <title>대파마켓</title>

    <style>
        body {
            background: #f3f3f3;
            margin-top: 20px;
            color: #616f80;
        }

        .card {
            border: none;
            margin-bottom: 24px;
            -webkit-box-shadow: 0 0 13px 0 rgba(236, 236, 241, .44);
            box-shadow: 0 0 13px 0 rgba(236, 236, 241, .44);
        }

        .avatar-xs {
            height: 2.3rem;
            width: 2.3rem;
        }
    </style>

    <script>
        $(document).ready(function (){

            $("#commentSubmit").on("click", function (){
                var commentContents = $("#commentContents").val();    //댓글의 내용
                var boardNum =  "${dto.member_bno}";
                var params = {"r_content" : r_content, "member_bno" : member_bno};

                $.ajax({
                    url:"/ajax/selectbox",
                    type: "post",
                    data: datas,
                    success: function (data){
                        let  selBox = $("#sel2");
                        selBox.empty();
                        selBox.append("<option>선택하세요</option>")

                        for (let i = 0; i < data.length; i++){
                            selBox.append("<option>"+ data[i].areaName + "</option>" );
                        }
                    },
                    error: function (){
                        alert("ajax통신 중 오류가 발생했습니다.")
                    }
                })

            })

        })
    </script>


</head>

<body>
<div class="container" style="padding-top: 30px">
</div>

<nav class="navbar navbar-expand-lg bg-light col-md-8 offset-md-2 ">
    <div class="container-fluid "
         style="background-color: rgba(66,177,100,0.6); padding-top: 15px; padding-bottom: 15px">
        <a class="navbar-brand col-md-2" href="#" style="font-size: 33px; padding-left: 50px"><img src="/image/logo.png"
                                                                                                   alt="Logo" width="50"
                                                                                                   height="50"
                                                                                                   style="padding-right:10px     "
                                                                                                   class="d-inline-block align-text-top">대파마켓</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0" style="font-size: large">
                <li class="nav-item">
                    <a class="nav-link" style="padding-left: 50px" aria-current="page" href="#">중고거래</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" style="padding-left: 50px" href="#">동네생활</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" style="padding-left: 50px" href="#">채팅</a>
                </li>

            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                       aria-expanded="false">
                        접속하기
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">로그인</a></li>
                        <li><a class="dropdown-item" href="#">회원가입</a></li>
                    </ul>
                </li>
            </ul>

        </div>
    </div>
</nav>

<div class="container" style="margin-top: 30px">
    <hr>
        <div class="col-md-10">
            <table class="table table-condensed">
                <thead>
                <tr>
                    <label for="boardTitle">글제목</label>
                    <input type="text" class="form-control" id="boardTitle" name="boardTitle" placeholder="글제목" th:value="${board.boardTitle}">
                </tr>
                </thead>
                <tbody>
                <div class="row" style="margin-bottom: 20px; margin-top: 10px" >
                    <div class="col-sm-3">
                            <label for="boardUserId">글쓴이</label>
                            <input type="text" style="width: 170px" class="form-control" id="boardUserId" name="boardUserId" placeholder="글쓴이" readonly th:value="${board.boardUserId}">
                    </div>

                    <div class="col-sm-3">
                            <label for="boardDate">등록날짜</label>
                            <input style="width: 170px" type="text" class="form-control" id="boardDate" name="boardDate" placeholder="등록날짜" readonly th:value="${board.boardDate}">
                    </div>

                    <div class="col-sm-3">
                            <label for="boardHitCnt">조회수</label>
                            <input style=" width: 100px " type="text" class="form-control" id="boardHitCnt" name="boardHitCnt" placeholder="조회수" readonly th:value="${board.boardHitCnt}">
                    </div>

                </div>

                <div class="form-floating">
                    <textarea class="col-lg-12" rows="15" id="boardContents" name="boardContents" placeholder="글내용" th:text="${board.boardContents}"></textarea>
                </div>


                </tbody>
            </table>

            <table class="table table-condensed">
                <thead>
                <tr>
                    <td>
                        <span style="float: left">
                            <a class="btn btn-success" href="http://localhost:8080/board/town" role="button"
                               style="background-color: rgba(0,204,0,0.6)">목록</a>
                        </span>
                        <span style='float:right'>
                            <a class="btn btn-success" href="#" role="button"
                               style="background-color: rgba(0,204,0,0.6)">수정</a>
                            <a class="btn btn-success" href="#" role="button"
                               style="background-color: rgba(0,204,0,0.6)">삭제</a>
                        </span>
                    </td>
                </tr>
                </thead>
            </table>
        </div>

<!--댓글 시작-->

    <div class="card" style="width: 83.4%">
        <div class="card-body">
            <textarea class="form-control" rows="1"></textarea>
        </div>
        <div class="card-footer">
            <button id="commentSubmit" class="btn btn-success" style="background-color: rgba(0,204,0,0.6); float: right">댓글 등록</button>
        </div>
    </div>
    <div class="card" style="width: 83.4%">
        <div class="card-header"  >댓글리스트</div>
        <ul th:if="${#lists.size(commentList)}>0"  th:each="item : ${commentList}" id="comment--group" class="list-group">
            <li  id="comment--1" class="list-group-item d-flex justify-content-between" >

                <div th:text="${item.commentContents}" id="commentContents" name="commentContents">댓글내용</div>
                <div>
                <div class="d-flex">
                    <div th:text="${item.commentUserId}" class="text-muted" id="commentUserId" style="margin-right: 8px" name="commentUserId">지은이 &nbsp;</div>
                    <div th:text="${item.commentDate}" class="text-muted">등록날짜&nbsp;</div>
                    <button class="badge" style="background-color: rgba(0,204,0,0.6); margin-left: 8px; ">답글</button>
                    <button class="badge" style="background-color: rgba(0,204,0,0.6); margin-right: 5px; margin-left: 5px">수정</button>
                    <button class="badge" style="background-color: rgba(0,204,0,0.6)">삭제</button>
                </div>
                </div>
            </li>
        </ul>

        <ul th:unless="${#lists.size(commentList)} > 0" id="commentGroup" class="list-group">
            <li  class="list-group-item d-flex justify-content-between" >
                <div class="text-muted">댓글이 없습니다&nbsp;</div>
            </li>
        </ul>


    </div>

<!--    댓글끝-->

</div>


</body>
<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
        integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
        crossorigin="anonymous"></script>
</body>

</html>